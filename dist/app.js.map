{"version":3,"file":"app.js","sources":["app.js"],"sourcesContent":["class galleryApi {\r\n    static albumsAPI = `https://jsonplaceholder.typicode.com/albums`\r\n    static photosAPI = `https://jsonplaceholder.typicode.com/photos?albumId=`\r\n\r\n    static serverRequest(url, id = '') {\r\n        return fetch(url + id)\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json()\r\n                }\r\n                throw new Error('Can not retrieve data from server.')\r\n            })\r\n    }\r\n\r\n    static getAlbumsList() {\r\n        return galleryApi.serverRequest(this.albumsAPI)\r\n    }\r\n\r\n    static getPhotos(id) {\r\n        return galleryApi.serverRequest(this.photosAPI, id)\r\n    }\r\n}\nconst CLASS_ALBUM_ELEMENT = '.album_element'\r\nconst albums = document.querySelector('.gallery_albums')\r\nconst photos = document.querySelector('.gallery_photos')\r\nlet albumsArray = []\r\n\r\nalbums.addEventListener('click', onGalleryAlbumsClick)\r\n\r\nshowAlbumsUI()\r\n\r\nfunction showAlbumsUI() {\r\n    galleryApi\r\n        .getAlbumsList()\r\n        .then((list) => {\r\n            albumsArray = list\r\n            renderAlbums(list)\r\n            showPhotosUI(albumsArray[0])\r\n        })\r\n        .catch(e => showError(e))\r\n}\r\n\r\nfunction onGalleryAlbumsClick(e) {\r\n    const target = e.target\r\n    const album = getAlbumData(target)\r\n\r\n    if (!album) {\r\n        return\r\n    }\r\n\r\n    showPhotosUI(album)\r\n}\r\n\r\nfunction getAlbumData(el) {\r\n    return el.closest(CLASS_ALBUM_ELEMENT)\r\n}\r\n\r\nfunction renderAlbums(list) {\r\n    const html = list.map(generateAlbumsListHtml).join('')\r\n\r\n    albums.innerHTML = html\r\n}\r\n\r\nfunction generateAlbumsListHtml(album) {\r\n    return `  \r\n        <div>\r\n        <a href=\"#\" id=\"${album.id}\" class=\"album_element\"> ${album.id}. ${album.title}</a>\r\n        </div>\r\n    `\r\n}\r\n\r\nfunction renderPhotos(list) {\r\n    const html = list.map(generatePhotosListHtml).join('')\r\n\r\n    photos.innerHTML = html\r\n}\r\n\r\nfunction generatePhotosListHtml(photo) {\r\n    return `  \r\n        <div>\r\n        <img ${photo.id} src=\"${photo.url}\" class=\"gallery_img\" alt=\"gallery_photo\">\r\n        </div>\r\n    `\r\n}\r\n\r\nfunction showPhotosUI(album) {\r\n    const id = album.id\r\n    galleryApi\r\n        .getPhotos(id)\r\n        .then((list) => {\r\n            renderPhotos(list)\r\n        })\r\n        .catch(e => showError(e))\r\n}\r\n\r\nfunction showError(error) {\r\n    alert(error.message)\r\n}"],"names":["galleryApi","albumsAPI","photosAPI","serverRequest","url","id","fetch","then","res","ok","json","Error","getAlbumsList","this","getPhotos","CLASS_ALBUM_ELEMENT","albums","document","querySelector","photos","let","albumsArray","showAlbumsUI","renderAlbums","list","showPhotosUI","catch","e","showError","onGalleryAlbumsClick","album","getAlbumData","target","el","closest","html","map","generateAlbumsListHtml","join","innerHTML","title","renderPhotos","generatePhotosListHtml","photo","error","alert","message","addEventListener"],"mappings":"MAAMA,WACFC,iBAAmB,8CACnBC,iBAAmB,uDAEnBC,qBAAqBC,EAAKC,EAAK,IAC3B,OAAOC,MAAMF,EAAMC,CAAE,EAChBE,KAAK,IACF,GAAIC,EAAIC,GACJ,OAAOD,EAAIE,KAAK,EAEpB,MAAM,IAAIC,MAAM,oCAAoC,CACxD,CAAC,CACT,CAEAC,uBACI,OAAOZ,WAAWG,cAAcU,KAAKZ,SAAS,CAClD,CAEAa,iBAAiBT,GACb,OAAOL,WAAWG,cAAcU,KAAKX,UAAWG,CAAE,CACtD,CACJ,CACA,MAAMU,oBAAsB,iBACtBC,OAASC,SAASC,cAAc,iBAAiB,EACjDC,OAASF,SAASC,cAAc,iBAAiB,EACvDE,IAAIC,YAAc,GAMlB,SAASC,eACLtB,WACKY,cAAc,EACdL,KAAK,IAEFgB,aADAF,YAAcG,CACG,EACjBC,aAAaJ,YAAY,EAAE,CAC/B,CAAC,EACAK,MAAMC,GAAKC,UAAUD,CAAC,CAAC,CAChC,CAEA,SAASE,qBAAqBF,GAEpBG,EAAQC,aADCJ,EAAEK,MACgB,EAE5BF,GAILL,aAAaK,CAAK,CACtB,CAEA,SAASC,aAAaE,GAClB,OAAOA,EAAGC,QAAQnB,mBAAmB,CACzC,CAEA,SAASQ,aAAaC,GACZW,EAAOX,EAAKY,IAAIC,sBAAsB,EAAEC,KAAK,EAAE,EAErDtB,OAAOuB,UAAYJ,CACvB,CAEA,SAASE,uBAAuBP,GAC5B;;0BAEsBA,EAAMzB,8BAA8ByB,EAAMzB,OAAOyB,EAAMU;;KAGjF,CAEA,SAASC,aAAajB,GACZW,EAAOX,EAAKY,IAAIM,sBAAsB,EAAEJ,KAAK,EAAE,EAErDnB,OAAOoB,UAAYJ,CACvB,CAEA,SAASO,uBAAuBC,GAC5B;;eAEWA,EAAMtC,WAAWsC,EAAMvC;;KAGtC,CAEA,SAASqB,aAAaK,GACZzB,EAAKyB,EAAMzB,GACjBL,WACKc,UAAUT,CAAE,EACZE,KAAK,IACFkC,aAAajB,CAAI,CACrB,CAAC,EACAE,MAAMC,GAAKC,UAAUD,CAAC,CAAC,CAChC,CAEA,SAASC,UAAUgB,GACfC,MAAMD,EAAME,OAAO,CACvB,CAtEA9B,OAAO+B,iBAAiB,QAASlB,oBAAoB,EAErDP,aAAa"}